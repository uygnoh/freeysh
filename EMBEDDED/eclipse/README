### ===========================================================================
            stm32f10x_conf.h 头文件, 在 stm32f10x.h中的定义
8296    #ifdef USE_STDPERIPH_DRIVER
        #include "stm32f10x_conf.h"
        #endif


### ===========================================================================
                            eclipse新建一个空的工程

File->New->C Project->Emptry Project Cross ARM GCC

2.touch user startup cmsis libraies ldscripts bsp		共创建6个文件夹

3. 添加相应的文件到工程中，并刷新工程



### ===========================================================================
                            Project->Properties->C/C++ Build->Settings
~~~~~~~~~~~~~~~~~~~~~~~~~
1.	Cross ARM C Compiler
	Preprocessor:		
	STM32F10X_HD
	USE_STDPERIPH_DRIVER

~~~~~~~~~~~~~~~~~~~~~~~~~
3.	Cross ARM C Compiler
	includes		    添加头文件
	
~~~~~~~~~~~~~~~~~~~~~~~~~
4. 	Cross ARM C Linker	添加链接文件

~~~~~~~~~~~~~~~~~~~~~~~~~
5.	启动文件后缀名改为大写[.S]


### ===========================================================================
6.	修改 core_cm3.c文件，针对STM32F10x_StdPeriph_Lib_V3.5.0库函数

打开工程文件\STM32F10x_StdPeriph_Lib_V3.5.0\Libraries\CMSIS\CM3\CoreSupport下的core_cm3.c，找到
 __ASM volatile ("strexb %0, %2, [%1]" : "=r" (result) : "r" (addr), "r" (value) );
 __ASM volatile ("strexh %0, %2, [%1]" : "=r" (result) : "r" (addr), "r" (value) ); 两行，更改如下

 __ASM volatile ("strexb %0, %2, [%1]" : "=&r" (result) : "r" (addr), "r" (value) );

 __ASM volatile ("strexh %0, %2, [%1]" : "=&r" (result) : "r" (addr), "r" (value) );

修改完成后，保存！注意，请再选中工程项目，刷新F5，再一次编译。刷新是很重要的。
