<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<title>FVWM Beginners Guide - Functions</title>
<link rel="stylesheet" href="FVWM%20Beginners%20Guide%20-%20Functions_files/fvwm.css">
</head>

<body>
<p>Functions can be called by FVWM though various parts of the config, I will just
mention some basic syntax here and then give you some basic functions. For more complicated
functions check out the <a href="http://zensites.net/fvwm/guide/advanced.html">Advanced Topics</a> section.</p>

<p>To start lets take a look at the skeleton of how a function is written. I have
it written in a comment block to so you can paste it in your config to be reminded
how functions work.</p>

<center><table cellpadding="10" border="1" width="400">
<tbody><tr><td valign="center">
<pre><font color="#0000ff">#####</font>
<font color="#0000ff">#</font>
<font color="#0000ff"># DestroyFunc FuncName</font>
<font color="#0000ff"># AddToFunc   FuncName</font>
<font color="#0000ff"># + I (Action to happen immediately)</font>
<font color="#0000ff"># + C (Action to happen on a mouse 'click)</font>
<font color="#0000ff"># + D (Action to happen on a mouse 'double click')</font>
<font color="#0000ff"># + H (Action to happen on a mouse 'hold')</font>
<font color="#0000ff"># + M (Action to happen on a mouse 'motion')</font>
<font color="#0000ff">#</font>
<font color="#0000ff">###########</font>
</pre>
</td></tr></tbody></table></center>

<p>So the first thing you do is destroy the function with DestroyFunc, this will
clear the function of anything that may already be applied to it.  Then you AddToFunc
the list of actions you want it to perform when its called, and as you see above
these actions can happen depending on different actions of the mouse. Now when you
call a function in FVWM you can send it various parameters. For example you could call
the above function as 'FuncName "$0" "$1" "$2" "$3" "$4"' where $0-$4 are options
that are passed to the function and can be used in determining the outcome of the function.
Now consider the following list of basic functions.</p>

<center><table cellpadding="10" border="1" width="400">
<tbody><tr><td valign="center">
<pre><font color="#0000ff">#####</font>
<font color="#0000ff"># Basic Functions</font>
<font color="#0000ff">###########</font>
<font color="#008b8b">DestroyFunc</font> FvwmDeleteOrDestroy
<font color="#008b8b">AddToFunc</font>   FvwmDeleteOrDestroy
+ H <font color="#008b8b">Nop</font>
+ M <font color="#008b8b">Nop</font>
+ C <font color="#008b8b">Delete</font>
+ D <font color="#008b8b">Destroy</font>

<font color="#008b8b">DestroyFunc</font> FvwmIconifyOrShade
<font color="#008b8b">AddToFunc</font>   FvwmIconifyOrShade
+ C <font color="#008b8b">Iconify</font>
+ D <font color="#008b8b">WindowShade</font>

<font color="#008b8b">DestroyFunc</font> FvwmMaximize
<font color="#008b8b">AddToFunc</font>   FvwmMaximize
+ H <font color="#008b8b">Nop</font>
+ M <font color="#008b8b">Nop</font>
+ C <font color="#008b8b">Maximize</font> <font color="#a020f0">$0</font> <font color="#a020f0">$1</font>

<font color="#008b8b">DestroyFunc</font> FvwmMoveOrIconify
<font color="#008b8b">AddToFunc</font>   FvwmMoveOrIconify
+ M <font color="#008b8b">Move</font>
+ D <font color="#008b8b">Iconify</font>

<font color="#008b8b">DestroyFunc</font> FvwmWindowShade
<font color="#008b8b">AddToFunc</font>   FvwmWindowShade
+ D <font color="#008b8b">WindowShade</font> <font color="#a020f0">$0</font>
</pre>
</td></tr></tbody></table></center>

<p>The first function FvwmDeleteOrDestroy, will do nothing, NOP, if the mouse is either
'held' or 'moved'. On a single click it will 'Delete' the active window and on a double
click it will 'Destroy' the active window. The second function, FvwmIconifyOrShade, will
Iconify the window on a single click and shade the window on a double click. The function
FvwmMaximized can be sent two values which are then used to determine how the window is maximized.
For instance you could call that function 'FvwmMaximize 100 100' and it will maximize the
window to fill 100% of your screen both horizontally and vertically, while 'FvwmMaximize 100 0'
will maximize the window horizontally but keep its same size vertically. The function
FvwmMoveOrIconify will move the current window when the mouse is 'moved' and
'Iconify' on a 'double click'.
The FvwmWindowShade function will either shade, 'FvwmWindowShade True', or unshaded,
'FvwmWindowShade False', the current window. If no option is sent to FvwmWindowShade
it will shade an unshaded window and unshade a shaded window.</p>

<p>Next I like to write a function to launch all my programs so I can just call the
function. These are simple functions, but they keep things a little bit more organized for
me. Examples of such functions are;</p>

<center><table cellpadding="10" border="1" width="400">
<tbody><tr><td valign="center">
<pre><font color="#0000ff">#####</font>
<font color="#0000ff"># Program Launching Functions</font>
<font color="#0000ff">###########</font>
<font color="#008b8b">DestroyFunc</font> FvwmXTerm
<font color="#008b8b">AddToFunc</font>   FvwmXTerm
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xterm

<font color="#008b8b">DestroyFunc</font> FvwmATerm
<font color="#008b8b">AddToFunc</font>   FvwmATerm
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> aterm

<font color="#008b8b">DestroyFunc</font> FvwmGVim
<font color="#008b8b">AddToFunc</font>   FvwmGVim
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> gvim

<font color="#008b8b">DestroyFunc</font> FvwmGimp
<font color="#008b8b">AddToFunc</font>   FvwmGimp
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> gimp-2.0

<font color="#008b8b">DestroyFunc</font> FvwmFireFox
<font color="#008b8b">AddToFunc</font>   FvwmFireFox
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> firefox

<font color="#008b8b">DestroyFunc</font> FvwmIrssi
<font color="#008b8b">AddToFunc</font>   FvwmIrssi
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> aterm -e irssi

<font color="#008b8b">DestroyFunc</font> FvwmXmms
<font color="#008b8b">AddToFunc</font>   FvwmXmms
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xmms

<font color="#008b8b">DestroyFunc</font> FvwmViewManPage
<font color="#008b8b">AddToFunc</font>   FvwmViewManPage
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xterm -fg White -bg DarkBlue -g 80x40 -fn 7x14 -fb 7x14bold \
 -n <font color="#ff00ff">"Manual Page - $0"</font> -T <font color="#ff00ff">"Manual Page - $0"</font> -e man <font color="#ff00ff">"$0"</font>
</pre>
</td></tr></tbody></table></center>

<p>The first functions should be self explanatory, and as for the last one, what it does
is take a man page as an argument and launches that man page, for example you could call the
function as 'FvwmViewManPage fvwm' and it will pop up the man page for fvwm. You should also
note the syntax of the last few lines above.  At the end of the second to last line there
is a '\', that extends that line onto the next one, so FVWM will treat the last two
as one line in the config file.</p>

<p>Lets take a look at three special functions, 'StartFunction', 'InitFunction' and
'RestartFunction'. The StartFunction is run each time FVWM is started, while the
InitFunction is run after the StartFunction when FVWM is first initialized and the
RestartFunction runs after the StartFunction when FVWM is restarted. Examples of such
functions are</p>

<center><table cellpadding="10" border="1" width="400">
<tbody><tr><td valign="center">
<pre><font color="#0000ff">#####</font>
<font color="#0000ff"># Startup Functions</font>
<font color="#0000ff">###########</font>
<font color="#008b8b">DestroyFunc</font> <font color="#6a5acd">StartFunction</font>
<font color="#008b8b">AddToFunc</font>   <font color="#6a5acd">StartFunction</font>
+ I <font color="#008b8b">Module</font> FvwmTaskBar
+ I <font color="#008b8b">Module</font> FvwmPager 0 2
+ I <font color="#008b8b">Module</font> FvwmButtons MyButtons

<font color="#008b8b">DestroyFunc</font> <font color="#6a5acd">InitFunction</font>
<font color="#008b8b">AddToFunc</font>   <font color="#6a5acd">InitFunction</font>
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xscreensaver
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> fvwm-root -r <font color="#a020f0">$[fvwm_wallpapers]</font>/background.png
+ I FvwmXmms
+ I FvwmATerm

<font color="#008b8b">DestroyFunc</font> <font color="#6a5acd">RestartFunction</font>
<font color="#008b8b">AddToFunc</font>   <font color="#6a5acd">RestartFunction</font>
+ I <font color="#008b8b">Nop</font>
</pre>
</td></tr></tbody></table></center>

<p>Upon startup fvwm loads the three modules; FvwmButtons, FvwmPager and FvwmTaskBar.
When FVWM is first start it starts xscreensaver, sets the background and runs xmms
and an aterm. When FVWM Restarts it does nothing (except run the StartFunction)</p>

<p>Functions can be quite detailed and add a lot of usability to your
Desktop. Functions can be called with any number of parameters ($0, $1, $2, $3, etc.)
and can have any combinations of actions based off of the different mouse events. Functions
can use any name that isn't reserved by FVWM for some action, such as Nop, Delete, Destroy,
Restart, Exec, etc.</p>

<p>Some other examples of slightly more complex functions are;</p>

<center><table cellpadding="10" border="1" width="400">
<tbody><tr><td valign="center">
<pre><font color="#0000ff">#####</font>
<font color="#0000ff"># Screenshot Functions (uses ImageMagick)</font>
<font color="#0000ff">###########</font>
<font color="#008b8b">DestroyFunc</font> FvwmWindowScreenshot
<font color="#008b8b">AddToFunc</font>   FvwmWindowScreenshot
+ I ThisWindow (!<font color="#008b8b">Shaded</font> !<font color="#008b8b">Iconic</font> Iconifiable) \
  <font color="#008b8b">Exec</font> import -window <font color="#a020f0">$[w.id]</font> -quality 100 -silent \
  <font color="#ff00ff">"$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.$[w.id].jpg"</font>

<font color="#008b8b">DestroyFunc</font> FvwmDesktopScreenshot
<font color="#008b8b">AddToFunc</font>   FvwmDesktopScreenshot
+ I <font color="#008b8b">Exec</font> sleep <font color="#a020f0">$0</font>; import -window <font color="#008b8b">root</font> -quality 100 -silent \
  <font color="#ff00ff">"$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.jpg"</font>

<font color="#0000ff">#####</font>
<font color="#0000ff"># XRoach Invasion</font>
<font color="#0000ff">###########</font>
<font color="#008b8b">DestroyFunc</font> XRoachInvasion
<font color="#008b8b">AddToFunc</font>   XRoachInvasion
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 5 -rc Cyan -speed 17
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 3 -rc Red -speed 15
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 7 -rc Green -speed 10
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 3 -rc Blue -speed 20
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 1 -rc Black -speed 30
+ I <font color="#008b8b">Exec</font> <font color="#008b8b">exec</font> xroach -roaches 1 -rc White -speed 40

<font color="#008b8b">DestroyFunc</font> XRoachExterminate
<font color="#008b8b">AddToFunc</font>   XRoachExterminate
+ I <font color="#008b8b">Exec</font> killall xroach
</pre>
</td></tr></tbody></table></center>

<p>The first set of functions will take screenshots of either the whole desktop or
just a single window using the import tool from imagemagick.
To take a screenshot of a single window you call the first function
with 'Pick (CirculateHit) FvwmWindowScreenshot'. This will give you a pointer
and let you 'Pick' what window you want to take the screenshot off. The second function
will take a screenshot of your desktop after a '$0' second delay. This is nice cause it will
give you time to open up a menu before the screenshot is taken. For example
'FvwmDesktopScreenshot 5' will wait five seconds then take a screen shot.
The second set of functions is just an old X toy, it will launch an invasion of different
colored 'Roaches' that will scurry across your screen and hide under your windows.
You can either call an Invasion of these roaches or Exterminate them all.
You will need 'xroach' installed to run these functions successfully.</p>

<hr>
<table cellpadding="0" border="0" width="100%">
<tbody><tr><td align="left" width="33%"><a href="http://zensites.net/fvwm/guide/global.html">Global Settings</a></td>
<td align="center" width="34%"><a href="http://zensites.net/fvwm/guide/index.html">index</a></td>
<td align="right" width="33%"><a href="http://zensites.net/fvwm/guide/bindings.html">Bindings</a>
</td></tr></tbody></table>


</body></html>